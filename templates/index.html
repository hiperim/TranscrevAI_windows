<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TranscrevAI - Transcrição e Diarização Inteligentes</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <h1>TranscrevAI</h1>
        <p class="subtitle">Transcrição e Diarização Inteligentes</p>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('recording')">
                Gravação Ao Vivo
            </div>
            <div class="tab" onclick="switchTab('upload')">
                Upload de Arquivo
            </div>
        </div>

        <!-- Tab de Gravação Ao Vivo -->
        <div id="recording-tab" class="tab-content active">
            <div class="card">
                <div class="button-row">
                    <button class="button button-secondary" id="init-live-recording">
                        Conectar para Gravação Ao Vivo
                    </button>
                </div>

                <div class="button-row">
                    <button class="button button-primary" id="start-live-btn" disabled>
                        Iniciar Gravação
                    </button>
                    <button class="button button-warning" id="pause-live-btn" disabled>
                        Pausar
                    </button>
                    <button class="button button-primary" id="resume-live-btn" disabled>
                        Resumir
                    </button>
                    <button class="button button-danger" id="stop-live-btn" disabled>
                        Parar Gravação
                    </button>
                </div>

                <div class="center">
                    <div id="recording-timer" class="timer">00:00</div>
                </div>

                <div class="center mb-2">
                    <div id="live-status" class="status-indicator">Desconectado</div>
                </div>
            </div>
        </div>

        <!-- Tab de Upload -->
        <div id="upload-tab" class="tab-content">
            <div class="card">
                <div class="form-group">
                    <label for="upload-domain">Assunto geral do áudio a ser processado:</label>
                    <select class="select" id="upload-domain">
                        <option value="general">Geral</option>
                        <option value="finance">Finanças / Corporativo</option>
                        <option value="it">IT / Tecnologia</option>
                        <option value="medical">Medicina</option>
                        <option value="legal">Jurídico</option>
                        <option value="lecture">Palestra</option>
                        <option value="conversation">Conversa</option>
                    </select>
                </div>

                <div class="file-drop-zone" onclick="document.getElementById('file-input').click()">
                    <p><strong>Clique aqui ou arraste um arquivo de áudio</strong></p>
                    <p>Formatos suportados: WAV, MP3, M4A, FLAC, OGG</p>
                    <input type="file" id="file-input" class="file-input" accept=".wav,.mp3,.m4a,.flac,.ogg">
                </div>

                <div class="button-row">
                    <button class="button button-primary" id="upload-btn" onclick="processUpload()" disabled>
                        Processar Arquivo
                    </button>
                </div>
            </div>
        </div>

        <!-- Status de Processamento -->
        <div class="status" id="status">
            <h3>Status do Processamento</h3>
            <div class="spinner" id="loading-spinner"></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p id="status-text">Aguardando...</p>
        </div>

        <!-- Resultados -->
        <div class="results" id="results">
            <div class="stats-grid" id="stats"></div>

            <div class="button-row">
                <button class="button button-secondary" id="download-btn" onclick="downloadSRT()" disabled>
                    Baixar SRT
                </button>
            </div>

            <div id="transcription-results"></div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
